<html>
<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.2.4/fabric.js" integrity="sha512-q7T9VUu0gBgAGV3YkcvI0wjeBJONO5Cg/+688NkDC6qupjUvEG9ZmNK4GjZWvWuuT1VIjS0abwE1IKXVew8Ohw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <title>DND-Mapeditor</title>
  <link rel="icon" type="image/x-icon" href="assets/tiles/favicon.ico">
</head>
<body>

<div class="parent" id="parent">

  <div class="div1">
    <div id="modalArea" class="modal">
      <div class="modal-content">
        <div class="modal-header">
        <span class="close">&times;</span>
        <h2>Help Area</h2>
      </div>
        <div class="modal-body">
          <h3>Follow these instructions to use the editor</h3>
          <p>1.Brush: To draw on the canvas, select the brush tool and choose a color from the three textures. Use the slider to adjust the size of the brush. To deselect, click again.</p>
          <p>2.Bucket: To fill the entire canvas with a color, choose a color from the three textures and click the bucket tool </p>
          <p>3.Bin tool: To delete a selected object, select the object you want to delete and then click on the bucket.</p>
          <p>4.Undo and Redo: To undo or redo a previous action, use the undo or redo buttons.</p>
          <p>5.Path tool: To generate a path between placed houses, click on the path tool. The path will be generated automatically</p>
          <p>6. Numbers tool: To generate a circle for a legend, select the numbers tool.</p>
          <p>Download button: To download the current canvas, click on the download button.</p>
          <p><i>Note: The size of the path can be adjusted using the slider.</i></p>
        </div>
        <div class="modal-footer">
          <h3>Have fun!</h3>
        </div>
      </div>

    </div>
    <div class="buttonLeftGroup">
      <div class="leftDiv1">
        <div class="slideContainer">
          <input orient="vertical" type="range"  min="10" max="50" value="30" class="slider" id="penSlider">
        </div>

      </div>


    <div class="leftDiv2">

      <div class="freeDrawingBrushes">
        <!--<button class="buttonDesign" onclick="togglePen(modes.draw, 'path')">Toggle path</button>-->
        <button type="submit" id="togglePathID" class="buttonDesignColorPicker" onclick="changeColorMode('path')">
          <img src="/assets/Icons/pathIcon.png" width="75" height="75" alt="submit" />
        </button>

        <!--<button class="buttonDesign" onclick="togglePen(modes.draw, 'grass')">Toggle grass</button>-->
        <button type="submit" id="toggleGrassID" class="buttonDesignColorPicker" onclick="changeColorMode('grass')">
          <img src="/assets/Icons/grassIcon.png" width="75" height="75" alt="submit" />
        </button>

        <!--<button class="buttonDesign" onclick="togglePen(modes.draw, 'water')">Toggle water</button>-->
        <button type="submit" id="toggleWaterID" class="buttonDesignColorPicker" onclick="changeColorMode('water')">
          <img src="/assets/Icons/waterIcon.png" width="75" height="75" alt="submit" />
        </button>
      </div>

    </div>
    <div class="leftDiv3">
        <button type="submit" id="toolButtonSwitcherDrawn" class="toolButton" onclick="toggleDrawing(); changeBorderTool(this)" style="background-color: #1d2a0f;">
          <img src="/assets/Icons/brush.png" width="65" height="65" alt="submit" />
        </button>
        <button type="submit" id="toolButtonSwitcherFill" class="toolButton" onclick="fillCanvas(); changeBorderTool(this)" style="background-color: #595d2b;">
          <img src="/assets/Icons/bucket.png" width="65" height="65" alt="submit" />
        </button>
        <button type="submit" class="toolButton" onclick="deleteSelected(canvas.getActiveObject())" style="background-color: #1a3341;">
          <img src="/assets/Icons/bin.png" width="65" height="65" alt="submit" />
        </button>
        <button type="submit" class="toolButton" id="undo" onclick="replay(undo,redo,redoButton,undoButton)" style="background-color: #254252;">
          <img src="/assets/Icons/undo.png" width="65" height="65" alt="submit" />
        </button>
        <button type="submit" class="toolButton" id="redo" onclick="replay(redo,undo,undoButton,redoButton)" style="background-color: #325365;">
          <img src="/assets/Icons/redo.png" width="65" height="65" alt="submit" />
        </button>
        <button type="submit" class="toolButton" onclick="generateLineBetweenObjects()" style="background-color: #496e83;">
          <img src="/assets/Icons/distance.png" width="65" height="65" alt="submit" />
        </button>
        <button class="toolButton" onclick="placeCircle()" style="background-color: #5b8299;">
          <img src="/assets/Icons/numbers.png" width="65" height="65" alt="submit" />
        </button>
        <button type="submit" class="toolButton" onclick="saveCanvasAsImg()" style="background-color: #7da3b9;">
          <img src="/assets/Icons/save.png" width="65" height="65" alt="submit" />
        </button>
        <button type="submit" id="modalButton" class="toolButton" style="background-color: #7da3b9;">
          <img src="assets/icons/questionmark.png" width="65" height="65" alt="submit" />
        </button>


    </div>
</div>
    </div >
<div class="div2" ondragover="allowDrop(event)" ondrop="dropElement(event)">
  <canvas id="canvas" class="canvas"></canvas>
</div>
<div class="div3">
  <div class="buttonRightGroup">
    <div class="rightDiv1">
       <div class="img_cont">
          <div id="imgFiller" class="placeableObjectDiv">
            <img class="img" id="ele1" alt='building' draggable="true" ondragstart="dragElement(event)" src="/assets/buildings/house1.png">
            <img class="img" id="ele2" alt='building'draggable="true" ondragstart="dragElement(event)" src="/assets/buildings/house2.png">
            <img class="img" id="ele4" alt='building' draggable="true" ondragstart="dragElement(event)" src="/assets/buildings/house3.png">
            <img class="img" id="ele5" alt='building' draggable="true" ondragstart="dragElement(event)" src="/assets/buildings/shop1.png">
            <img class="img" id="ele6" alt='building' draggable="true" ondragstart="dragElement(event)" src="/assets/buildings/castle1.png">
            <img class="img" id="ele7" alt='building' draggable="true" ondragstart="dragElement(event)" src="/assets/buildings/church1.png">
          </div>
        </div>
      </div>
    <div class="rightDiv2">
      <button type="submit" class="buttonDesign" onclick="changeSelectableCategory(selectedObject.house)">
        <img src="/assets/icons/buildings.png" width="100" height="100" alt="submit"  style="background-color: #ffb564;border: 5px solid #cb8b46;"/>
      </button>
      <button type="submit" class="buttonDesign" onclick="changeSelectableCategory(selectedObject.barriers)">
        <img src="/assets/icons/barrier.png" width="100" height="100" alt="submit"  style="background-color: #f9982f;border: 5px solid #ce812e;"/>
      </button>
      <button type="submit" class="buttonDesign" onclick="changeSelectableCategory(selectedObject.cityObject)">
        <img src="/assets/icons/other.png" width="100" height="100" alt="submit"  style="background-color: #e37238;border: 5px solid #ba5b2a;"/>
      </button>
      <button type="submit" class="buttonDesign" onclick="changeSelectableCategory(selectedObject.nature)">
        <img src="/assets/icons/nature.png" width="100" height="100" alt="submit"  style="background-color: #c25e2d;border: 5px solid #954822;"/>
      </button>
      <button type="submit" class="buttonDesign" onclick="changeSelectableCategory(selectedObject.other)">
        <img src="/assets/icons/others.png" width="100" height="100" alt="submit"  style="background-color: #9c461f;border: 5px solid #6a2d12;"/>
      </button>
    </div>
  </div>

  </div>


</div>
</div>
<script src="sketch.js"></script>
</body>
</html>